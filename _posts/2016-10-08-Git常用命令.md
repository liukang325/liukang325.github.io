---
layout: post
title: Git常用命令
category: Git
tags: Git
keywords: 
description: 
author: liukang
---

关联远端分支
```
git branch --set-upstream-to=origin/func_xx_branch
git branch -vv
```

使用该方式会在本地新建分支x，但是不会自动切换到该本地分支x，需要手动checkout
```
git fetch origin 远程分支名x:本地分支名x
git fetch origin rc_xxx_branch:rc_xxx_branch
```

----------

创建dev分支，然后切换到dev分支
```
git checkout -b dev
```
相当于：
```
git branch dev   //创建dev分支
git checkout dev //切换到dev分支
```

删除分支
```
git branch -d dev
//删除远端分支
git push origin :dev
```

----------

回退到上一个版本
```
git reset --hard HEAD^
```
回退到上两个版本
```
git reset --hard HEAD^^
```
回退到上3个版本
```
git reset --hard HEAD~3
```
回退到指定版本
```
git reset --hard 36281644bd453
```

----------



输出log以单行显示
```
git log --pretty=oneline
```

看到分支合并图
```
git log --graph
```
查看命令历史
```
git reflog
```
穿梭前，用git log可以查看提交历史，以便确定要回退到哪个版本。

要重返未来，用git reflog查看命令历史，以便确定要回到未来的哪个版本。


----------

撤销修改
```
git checkout -- file
git reset HEAD file
```

场景1：当你改乱了工作区某个文件的内容，想直接丢弃工作区的修改时，用命令git checkout -- file。
场景2：当你不但改乱了工作区某个文件的内容，还添加到了暂存区时，想丢弃修改，分两步，第一步用命令git reset HEAD file，就回到了场景1，第二步按场景1操作。


----------

把当前工作现场“储藏”起来，等以后恢复现场后继续工作
```
git stash
git stash list
```

恢复stash
```
git stash apply //恢复后，stash内容并不删除:
```
恢复指定的stash
```
git stash apply stash@{0}
```
删除stash:
```
git stash drop
```
恢复并删除stash：
```
git stash pop //恢复的同时把stash内容也删了:
```


----------

创建tag v1.0
```
git tag v1.0
```
删除tag v1.0
```
git tag -d v1.0
```
查看 所有tag
```
git tag
```
对过去的某次提交打tag, commit id: 6224937
```
git tag v0.9 6224937
```
创建带有说明的标签，用-a指定标签名，-m指定说明文字：
```
git tag -a v1.0 -m "version 1.0 Released" 3611187
```
将tag推送到远端
```
git push origin v1.0
```
一次性推送全部尚未推送到远程的本地标签：
```
git push origin --tags
```
删除远程的一个分支
```
git push origin :refs/tags/v0.9
```


